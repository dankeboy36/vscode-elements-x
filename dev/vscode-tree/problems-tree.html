<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VSCode Elements â€” Problems Tree</title>
    <link
      rel="stylesheet"
      href="/node_modules/@vscode/codicons/dist/codicon.css"
      id="vscode-codicon-stylesheet"
    >
    <script
      type="module"
      src="/node_modules/@vscode-elements/webview-playground/dist/index.js"
    ></script>
    <script type="module" src="/dist/main.js"></script>
    <style>
      main {
        max-width: 640px;
      }

      .frame {
        width: var(--demo-tree-width, 520px);
        border-radius: 8px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        padding: 12px;
        background: rgba(255, 255, 255, 0.02);
      }

      .problems-tree .problem-icon-wrap {
        display: inline-flex;
        align-items: center;
      }

      /* Severity colors */
      .problems-tree .sev.error {
        color: var(--vscode-problemsErrorIcon-foreground);
      }
      .problems-tree .sev.warning {
        color: var(--vscode-problemsWarningIcon-foreground);
      }
      .problems-tree .sev.info,
      .problems-tree .sev.hint {
        color: var(--vscode-problemsInfoIcon-foreground);
      }

      /* Inherit when the tree is focused (active) and the row is selected (severity icon + bulb) */
      .problems-tree:focus-within
        vscode-tree-item[selected]
        > [slot='icon-leaf'].problem-icon-wrap
        .sev,
      .problems-tree:focus-within
        vscode-tree-item[selected]
        > [slot='icon-leaf'].problem-icon-wrap
        .bulb,
      .problems-tree:focus-within
        vscode-tree-item[selected]
        > [slot='icon-branch'].problem-icon-wrap
        .sev,
      .problems-tree:focus-within
        vscode-tree-item[selected]
        > [slot='icon-branch'].problem-icon-wrap
        .bulb,
      .problems-tree:focus-within
        vscode-tree-item[selected]
        > [slot='icon-branch-opened'].problem-icon-wrap
        .sev,
      .problems-tree:focus-within
        vscode-tree-item[selected]
        > [slot='icon-branch-opened'].problem-icon-wrap
        .bulb {
        color: inherit !important;
      }

      /* Center items */
      .problems-tree .problem-icon-wrap {
        display: flex;
      }

      /* Hover: swap severity icon -> lightbulb */
      .problems-tree .problem-icon-wrap .bulb {
        display: none;
        color: var(--vscode-editorLightBulb-foreground, #ddb100);
      }
      .problems-tree .problem-icon-wrap:hover .sev {
        display: none;
      }
      .problems-tree .problem-icon-wrap:hover .bulb {
        display: inline-flex;
      }

      /* Keep icons aligned like label text */
      .tree-label {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        min-width: 0;
      }
      .tree-label-text {
        display: inline-block;
        min-width: 0;
        max-width: 100%;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
    </style>
  </head>
  <body>
    <h1>Problems (demo)</h1>
    <main>
      <vscode-demo class="frame">
        <vscode-tree class="problems-tree">
          <!-- Root -->
          <vscode-tree-item branch open data-node="problems-root">
            <span class="tree-label">
              <span class="tree-label-text">Problems</span>
            </span>
            <vscode-badge slot="decoration" variant="counter" aria-hidden="true"
              >4</vscode-badge
            >

            <!-- Error #1 -->
            <vscode-tree-item data-node="p-error-1">
              <span slot="icon-leaf" class="problem-icon-wrap">
                <vscode-icon name="error" class="sev error"></vscode-icon>
                <vscode-icon name="lightbulb" class="bulb"></vscode-icon>
              </span>
              <span class="tree-label">
                <span class="tree-label-text"
                  >All platforms must either specify a version or none</span
                >
              </span>
              <span slot="description">[Ln 4, Col 5]</span>
            </vscode-tree-item>

            <!-- Error #2 -->
            <vscode-tree-item data-node="p-error-2">
              <span slot="icon-leaf" class="problem-icon-wrap">
                <vscode-icon name="error" class="sev error"></vscode-icon>
                <vscode-icon name="lightbulb" class="bulb"></vscode-icon>
              </span>
              <span class="tree-label">
                <span class="tree-label-text"
                  >Unknown FQBN option 'FlashFreqx'</span
                >
              </span>
              <span slot="description">[Ln 6, Col 12]</span>
            </vscode-tree-item>

            <!-- Warning -->
            <vscode-tree-item data-node="p-warning-1">
              <span slot="icon-leaf" class="problem-icon-wrap">
                <vscode-icon name="warning" class="sev warning"></vscode-icon>
                <vscode-icon name="lightbulb" class="bulb"></vscode-icon>
              </span>
              <span class="tree-label">
                <span class="tree-label-text"
                  >Library 'FTDebouncer' installed 1.3.1, profile requires
                  1.3.3</span
                >
              </span>
              <span slot="description">[Ln 8, Col 3]</span>
            </vscode-tree-item>

            <!-- Info -->
            <vscode-tree-item data-node="p-info-1">
              <span slot="icon-leaf" class="problem-icon-wrap">
                <vscode-icon name="info" class="sev info"></vscode-icon>
                <vscode-icon
                  name="lightbulb"
                  class="bulb"
                  action-icon
                ></vscode-icon>
              </span>
              <span class="tree-label">
                <span class="tree-label-text">Profiles validated</span>
              </span>
              <span slot="description">[Ln 1, Col 1]</span>
            </vscode-tree-item>
          </vscode-tree-item>
        </vscode-tree>
      </vscode-demo>
    </main>
  </body>
</html>
